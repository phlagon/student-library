<div id="auth-screen">
    <div class="glass-card" style="max-width:350px; margin: 50px auto; text-align:center;">
        <h2 style="color:var(--blue); margin-bottom:5px;">Jesus is the Saviour</h2>
        <p style="font-size:12px; color:#64748b; margin-bottom:20px;">Theological Student Library</p>
        
        <div style="text-align:left; margin-bottom:15px;">
            <label style="font-size:11px; font-weight:600;">College ID</label>
            <input type="text" id="login-coll-id" style="width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; margin-top:4px;">
        </div>
        <div style="text-align:left; margin-bottom:15px;">
            <label style="font-size:11px; font-weight:600;">Student ID</label>
            <input type="text" id="login-stud-id" style="width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; margin-top:4px;">
        </div>
        <div style="text-align:left; margin-bottom:20px;">
            <label style="font-size:11px; font-weight:600;">Password</label>
            <input type="password" id="login-pass" style="width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; margin-top:4px;">
        </div>

        <button class="btn-blue" style="width:100%; padding:15px;" onclick="handleCustomLogin()">Enter Library</button>
        <div id="login-status" style="margin-top:15px; font-size:11px; color:#ef4444;"></div>
    </div>
</div>

<script>
    // ... (Your Firebase Config remains same) ...

    async function handleCustomLogin() {
        const collId = document.getElementById('login-coll-id').value;
        const studId = document.getElementById('login-stud-id').value;
        const pass = document.getElementById('login-pass').value;
        const status = document.getElementById('login-status');

        if(!collId || !studId || !pass) { status.innerText = "Please fill all fields"; return; }

        status.innerText = "Verifying...";
        
        // Check against Firestore 'users' collection
        const snap = await db.collection("users")
            .where("collegeId", "==", collId)
            .where("studentId", "==", studId)
            .where("password", "==", pass)
            .get();

        if(!snap.empty) {
            const userData = snap.docs[0].data();
            currentUser = { uid: snap.docs[0].id, displayName: userData.fullName };
            sessionStart = Date.now();
            
            document.getElementById('auth-screen').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            document.getElementById('p-name').innerText = currentUser.displayName;
            
            loadLib(); listenBorrows(); logAct("App Opened");
        } else {
            status.innerText = "Invalid Credentials. Access Denied.";
        }
    }
    // ... (Rest of your functions: logAct, renderB, loadLib, etc. remain the same) ...
</script>
